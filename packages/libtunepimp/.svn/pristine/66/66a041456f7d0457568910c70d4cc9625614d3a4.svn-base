import os, os.path

env = Environment(ENV = os.environ)
env.Tool('msvc') 
env.Append(CPPPATH = [ '#..',  '#../lib',  '#../include/tunepimp-0.5', '#../lib/threads/win32', '#../plugins/common', '#../../mb_client/include' ])
env.Append(LIBPATH = [ '#', '#../../mb_client/win32' ])
env.Append(CPPDEFINES = [ 'WIN32', 'NDEBUG', 'TAGLIB_DLL' ]) 
env.Append(CCFLAGS = [ '/MT', '/EHsc', '/Ox', '/wd4996' ]) 
env.Append(LINKFLAGS = [ '/NODEFAULTLIB:LIBC' ]) 

Export('env') 

if not os.path.exists('../config.h'): 
    env.Execute(Copy('../config.h', '../config_win32.h')) 

SConscript([
    'SConscript',           
    'mp3/SConscript',           
    'mp4/SConscript',           
    'mpc/SConscript',           
    'vorbis/SConscript',           
    'flac/SConscript',           
    'speex/SConscript',           
    'tta/SConscript',           
    'wav/SConscript',       
    'wma/SConscript',           
    'wv/SConscript',           
    ])  
                                    

